<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<title>Flappy Bird Cheats</title>
<style>
body { margin:0; overflow:hidden; background:#87CEEB; font-family: Arial, sans-serif; text-align:center;}
canvas { display:block; margin:0 auto; background:#87CEEB; }
#menu { position:absolute; top:50px; width:100%; }
button, input { margin:10px; padding:10px; font-size:16px; }
</style>
</head>
<body>

<div id="menu">
<h1>Flappy Bird Block</h1>
<p>Wähle den Schwierigkeitsgrad:</p>
<input type="text" id="cheatInput" placeholder="Code eingeben">
<p>Enter drücken zum Aktivieren</p>
<button onclick="startGame('leicht')">Leicht</button>
<button onclick="startGame('mittel')">Mittel</button>
<button onclick="startGame('schwer')">Schwer</button>
</div>

<canvas id="gameCanvas" width="600" height="800"></canvas>

<script>
const canvas = document.getElementById("gameCanvas");
const ctx = canvas.getContext("2d");

let bird, pipes, score, highscore, gameOver, pipeTimer, pipeInterval, pipeSpeed, pipeGap;
let bootActive=false, bootTimer=0;
let baseballActive=false;
let shieldActive=false, shieldTimer=0;
let doubleJumpActive=false, canDoubleJump=true;
let turboActive=false, turboTimer=0;
let keyCombo = ["KeyW","KeyE","KeyR","KeyT"], keyIndex=0;

// Highscore speichern
highscore = localStorage.getItem("flappyHighscore") ? parseInt(localStorage.getItem("flappyHighscore")) : 0;

// Cheat Input prüfen
document.getElementById("cheatInput").addEventListener("keydown", e=>{
    if(e.code==="Enter"){
        const code = document.getElementById("cheatInput").value.trim().toLowerCase();
        if(code==="leo") bootActive=true, bootTimer=30000;
        if(code==="baseball") baseballActive=true;
        if(code==="shield") shieldActive=true, shieldTimer=10000;
        if(code==="doublejump") doubleJumpActive=true;
        if(code==="turbo") turboActive=true, turboTimer=10000;
        document.getElementById("cheatInput").value="";
    }
});

// Steuerung
document.addEventListener("keydown", e=>{
    if(!bird) return;
    if(e.code==="Space" && !gameOver){
        bird.vel = bird.flap;
        if(doubleJumpActive && !canDoubleJump){
            bird.vel = bird.flap; canDoubleJump=true;
        }
    }
    if(e.code==="Space" && gameOver) resetGame();

    // Boot OP Kombi
    if(bootActive && !gameOver){
        if(e.code===keyCombo[keyIndex]){
            keyIndex++;
            if(keyIndex===keyCombo.length) bird.vel=bird.flap*2, keyIndex=0;
        } else if(e.code!==keyCombo[keyIndex]) keyIndex=0;
    }

    // Baseball Punkte
    if(baseballActive && e.code==="KeyA" && !gameOver) score+=20;
});

// Spiel starten
function startGame(schwierigkeit){
    document.getElementById("menu").style.display="none";
    bird={x:50,y:400,width:40,height:40,vel:0,flap:-12};
    pipes=[]; score=0; gameOver=false; pipeTimer=0;

    if(schwierigkeit==='leicht'){ pipeInterval=150; pipeSpeed=3; pipeGap=250; }
    else if(schwierigkeit==='mittel'){ pipeInterval=120; pipeSpeed=4; pipeGap=200; }
    else{ pipeInterval=100; pipeSpeed=5; pipeGap=180; }

    loop();
}

function createPipe(){
    const topHeight=Math.random()*(canvas.height-pipeGap-150)+50;
    pipes.push({x:canvas.width,topHeight:topHeight,bottomY:topHeight+pipeGap,scored:false});
}

function update(){
    if(gameOver || !bird) return;

    bird.vel += 0.6;
    bird.y += bird.vel;

    if(!bootActive && bird.y<0) bird.y=0;

    pipeTimer++;
    if(pipeTimer>=pipeInterval){ createPipe(); pipeTimer=0; }

    for(let i=pipes.length-1;i>=0;i--){
        pipes[i].x-=pipeSpeed;
        if(!bootActive && !shieldActive){
            if(bird.x+bird.width>pipes[i].x && bird.x<pipes[i].x+60){
                if(bird.y<pipes[i].topHeight || bird.y+bird.height>pipes[i].bottomY){
                    gameOver=true;
                }
            }
        }
        if(!pipes[i].scored && pipes[i].x+60<bird.x){ score++; pipes[i].scored=true; }
        if(pipes[i].x+60<0) pipes.splice(i,1);
    }

    if(bird.y+bird.height>canvas.height && !shieldActive) gameOver=true;

    if(score>highscore){ highscore=score; localStorage.setItem("flappyHighscore",highscore); }

    // Timer verringern
    if(bootActive) bootTimer-=16; if(bootTimer<=0) bootActive=false;
    if(shieldActive) shieldTimer-=16; if(shieldTimer<=0) shieldActive=false;
    if(turboActive) turboTimer-=16; if(turboTimer<=0) turboActive=false;
}

function draw(){
    if(!bird) return;
    ctx.fillStyle="#87CEEB"; ctx.fillRect(0,0,canvas.width,canvas.height);

    ctx.fillStyle=bootActive?"blue":turboActive?"purple":shieldActive?"cyan":"yellow";
    ctx.fillRect(bird.x,bird.y,bird.width,bird.height);

    ctx.fillStyle="green";
    pipes.forEach(pipe=>{
        ctx.fillRect(pipe.x,0,60,pipe.topHeight);
        ctx.fillRect(pipe.x,pipe.bottomY,60,canvas.height-pipe.bottomY);
    });

    ctx.fillStyle="white"; ctx.font="40px Arial"; ctx.fillText(score,canvas.width/2-20,60);
    ctx.font="25px Arial"; ctx.fillText("Highscore:"+highscore,10,40);

    if(bootActive) ctx.fillText("BOOT: "+Math.ceil(bootTimer/1000)+"s",canvas.width/2-70,100);
    if(shieldActive) ctx.fillText("SHIELD: "+Math.ceil(shieldTimer/1000)+"s",canvas.width/2-70,140);
    if(turboActive) ctx.fillText("TURBO: "+Math.ceil(turboTimer/1000)+"s",canvas.width/2-70,180);

    if(gameOver){
        ctx.fillStyle="red"; ctx.font="60px Arial"; ctx.fillText("GAME OVER",canvas.width/2-180,canvas.height/2-20);
        ctx.font="30px Arial"; ctx.fillText("SPACE = Neustart",canvas.width/2-140,canvas.height/2+40);
    }
}

function loop(){ update(); draw(); if(!gameOver) requestAnimationFrame(loop); }

function resetGame(){
    bird.y=400; bird.vel=0; pipes=[]; score=0; gameOver=false; pipeTimer=0;
    keyIndex=0; bootActive=false; bootTimer=0; baseballActive=false;
    shieldActive=false; shieldTimer=0; doubleJumpActive=false; canDoubleJump=true;
    turboActive=false; turboTimer=0;
    loop();
}
</script>
</body>
</html>
